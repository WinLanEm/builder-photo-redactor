Компоновщик - паттерн, который позволяет сгруппировать множество объектов в древовидную
структуру, а затем работать с ней так, как будто это единичный объект.
Клиенский код - calculateOrdersPrice.php
Реализация:
Замечаем обьекты связанные древовидно, определяем их свойства
Проектируем интерфейс с методами setChild и с методами ващей логики
Создаем Trait для каждой модели с этими двумя методами и массивом дочерних элементов
Создаем фабрику в которой прописываем методы инициализации всех обьектов
Проектируем сам класс composite указываем логику инициализации определенного колличества обьектов
Вызываем метод логики для всей древовидной структуры